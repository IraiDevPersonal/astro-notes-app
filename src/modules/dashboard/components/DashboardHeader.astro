---
import { ErrorWrapper } from "@/components/ui/error-wrapper";
import Header from "@/components/ui/Header.astro";
import { SearchBox } from "@/components/ui/search-box/search-box";
import SidebarTrigger from "@/components/ui/sidebar/SidebarTrigger.astro";
import { Typography } from "@/components/ui/typography";
import type { MeModel } from "@/modules/user/models/me.model";
import { Menu } from "lucide-react";

type Props = {
  user: Partial<Pick<MeModel, "name" | "lastName">>;
  error?: string | null;
};

const { user, error } = Astro.props;
---

<Header>
  <SidebarTrigger variant="secondary" size={"icon-lg"}>
    <Menu />
  </SidebarTrigger>

  <Typography
    as="h1"
    className="transition-[font-size] text-xl sm:text-2xl md:text-4xl truncate max-w-sm md:max-w-md lg:max-w-full"
  >
    Bienvenido,
    <ErrorWrapper error={error}>
      {user.name}&nbsp;{user.lastName}
    </ErrorWrapper>
  </Typography>

  <SearchBox client:visible />
</Header>
