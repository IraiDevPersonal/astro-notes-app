---
import { ErrorWrapper } from "@/components/ui/error-wrapper";
import { Typography } from "@/components/ui/typography";
import FolderCard from "@/modules/folders/components/FolderCard.astro";
import type { SubFolderModel } from "@/modules/folders/models/subfolder.model";
import NoteCard from "@/modules/notes/components/NoteCard.astro";
import type { NoteModel } from "@/modules/notes/models/note.model";

type Props = {
  folders: SubFolderModel[];
  notes: NoteModel[];
  error: string | null;
};

const { folders, notes, error } = Astro.props;

const isEmpty = folders.length === 0 && notes.length === 0;
---

<ErrorWrapper error={error}>
  {
    isEmpty ? (
      <Typography as="p" muted className="text-center">
        No hay recursos...
      </Typography>
    ) : (
      <div class="grid grid-cols-[repeat(auto-fill,minmax(150px,1fr))] gap-3 transition-[gap] pb-8">
        {folders.map((folder) => (
          <FolderCard id={folder.id} name={folder.name} />
        ))}

        {notes.map((note) => (
          <NoteCard id={note.id} title={note.title} />
        ))}
      </div>
    )
  }
</ErrorWrapper>
