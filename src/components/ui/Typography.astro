---
import { cn } from "@/lib/utils";
import type { Polymorphic } from "astro/types";

type Tag = "h1" | "h2" | "h3" | "h4" | "h5" | "h6" | "p" | "small";

type Props<T extends Tag = Tag> = {
  className?: string;
  muted?: boolean;
  tag?: T;
} & Omit<Polymorphic<{ as: T }>, "class">;

const { muted, tag: Component = "p", className, ...props } = Astro.props;

const classNames: Record<Tag, string> = {
  h1: "text-4xl font-bold leading-tight",
  h2: "text-3xl font-bold leading-tight",
  h3: "text-2xl font-medium leading-tight",
  h4: "text-xl font-medium leading-tight",
  h5: "text-lg font-medium leading-tight",
  h6: "text-base font-medium leading-tight",
  p: "text-base font-normal leading-relaxed",
  small: "text-sm font-normal leading-relaxed",
};
---

<Component
  class={cn(classNames[Component], muted && "text-muted-foreground", className)}
  {...props}
>
  <slot />
</Component>
